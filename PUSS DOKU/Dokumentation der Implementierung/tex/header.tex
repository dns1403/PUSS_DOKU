 \usepackage[T1]{fontenc}
 \usepackage[utf8]{inputenc}

% Seitenränder
\textheight23.5cm
\textwidth16cm
\topmargin-1cm
\evensidemargin0cm
\oddsidemargin0cm

% Packages
\usepackage{amssymb,amsmath}
\usepackage{amsthm,mathtools}
\usepackage{fancyhdr}
\usepackage[lflt]{floatflt}
\usepackage[pdfborderstyle={/S/U/W 1},hypertexnames=false]{hyperref}
\usepackage{braket}
\usepackage[nameinlink,capitalise]{cleveref}
\usepackage{enumerate}
\usepackage{todonotes}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{quiver}
\usepackage{pgfplots}
\usepackage{pdflscape}
\usepackage{colortbl}
\usepackage[utf8]{inputenc}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{float}

\tcbuselibrary{listings, skins}
\pgfplotsset{width=10cm,compat=1.6}
\usetikzlibrary{arrows}

\definecolor{darkcerulean}{rgb}{0.03, 0.27, 0.49} 	\definecolor{darkcoral}{rgb}{0.8, 0.36, 0.27}
\usepgfplotslibrary{colormaps}
\pgfplotsset{/pgfplots/colormap/bluewhitered/.style={/pgfplots/colormap={bluewhitered}{color(0cm)=(darkcerulean); color(0.5cm)=(white); color(1cm)=(darkcoral)}}}
\pgfplotsset{/pgfplots/colormap/bluered/.style={/pgfplots/colormap={bluered}{color(0cm)=(darkcerulean); color(1cm)=(darkcoral)}}}

\usepgfplotslibrary{fillbetween}

\usepackage{shadethm}
\usepackage{framed}
\definecolor{shadecolor}{rgb}{0.9,0.9,0.95}
\definecolor{shadethmcolor}{rgb}{.9,.9,.95}

\usepackage{tabularx}
\newcolumntype{x}[1]{!{\centering\arraybackslash\vrule width #1}}


% Makros & Umgebungen
\input{tex/alphabets}
\input{tex/commands}

% Definition der Farben für das Code-Highlighting
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{boxheader}{rgb}{0.85, 0.85, 0.85}

% Definition des SQL-Styles
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta}\bfseries,
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=SQL,
    deletekeywords={Time, Hour},
    % Fix für deutsche Umlaute im Code:
    literate={ä}{{\"a}}1 {ö}{{\"o}}1 {ü}{{\"u}}1 {Ä}{{\"A}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1 {ß}{{\ss}}1
}

% Definition der schönen Code-Box
\newtcblisting{sqlbox}[2][]{
    enhanced,
    skin=enhancedlast,
    attach boxed title to top left={xshift=-4mm,yshift=-2mm},
    fonttitle=\bfseries\sffamily,
    colback=backcolour,
    colframe=black!50,
    colbacktitle=boxheader,
    coltitle=black,
    boxed title style={
        empty,
        arc=0pt,
        outer arc=0pt,
        boxrule=0pt
    },
    underlay boxed title={
        \fill[white] (title.north west) -- (title.north east)
        -- +(\tcboxedtitleheight-1mm,-\tcboxedtitleheight+1mm)
        -- ([xshift=4mm,yshift=0.5mm]frame.north east) -- +(0mm,-1mm)
        -- (title.south west) -- cycle;
        \draw[black!50, line width=0.5mm] ([xshift=4mm,yshift=-0.5mm]frame.north east)
        -- +(-1mm,1mm);
    },
    title={#2},
    listing only,
    listing options={style=mystyle},
    #1
}


%======================================
% Kopf-/Fußzeilen und Absatzformat
%======================================
\setlength{\parindent}{0pt}
%TODO: das hier verzerrt auch das Inhaltsverzeichnis -- gibt's ne Abhilfe?
\setlength{\parskip}{1.4\smallskipamount}

\fancypagestyle{plain}{
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand
{\headheight}{14pt}
    \fancyhf{}
    \fancyhead[R]{\romannumeral\thepage}
}

\newcommand{\startnotes}{
	\clearpage
	\setcounter{page}{1}
	\fancyhead[R]{\thepage}
	\fancyhead[L]{\rightmark}}

%======================================
% Anpassen der Breite für die Abschnittsnummerierung im TOC
% 3. Argument von \@dottedtocline setzt die Breite der Box für
% die Abschnittsnummerierung
% (schönen Dank an Nils!)
%======================================
\makeatletter
\renewcommand{\l@subsection}{\@dottedtocline{2}{1.5em}{3.3em}}
\renewcommand{\l@subsubsection}{\@dottedtocline{2}{1.5em}{4.5em}}
\makeatother


\pagestyle{plain}